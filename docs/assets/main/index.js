System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManagerSingleton.ts"],(function(e){var t,i,r,a,s,n,o,l,c,u,h,d,m,p,f,g,v,b,y,S,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.createForOfIteratorHelperLoose,a=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,l=e.Prefab,c=e.Node,u=e.Label,h=e.AudioSource,d=e.input,m=e.Input,p=e.director,f=e.instantiate,g=e.Vec2,v=e.RigidBody2D,b=e.Animation,y=e.KeyCode,S=e.Component},function(e){w=e.GameManagerSingleton}],execute:function(){var C,G,P,A,L,E,M,O,_,z,W,R,T,V,B,D,k;n._RF.push({},"05c10CDL+5C8Y8VQylbgg5I","GameManager",void 0);var I=o.ccclass,F=o.property;e("createStars",(C=I("createStars"),G=F(l),P=F(c),A=F(c),L=F(u),E=F(u),M=F(u),O=F(h),C((W=t((z=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return t=e.call.apply(e,[this].concat(r))||this,a(t,"stars",W,s(t)),a(t,"failureWindow",R,s(t)),a(t,"pauseWindow",T,s(t)),a(t,"scoreLabel",V,s(t)),a(t,"scoreLabelGameOver",B,s(t)),a(t,"timerLabel",D,s(t)),a(t,"_audioSource",k,s(t)),t.time=60,t.score=0,t.isGameOver=!1,t.isGamePause=!1,t.starsArray=[],t}i(t,e);var n=t.prototype;return n.onLoad=function(){this.schedule(this.countdown,1),d.on(m.EventType.KEY_DOWN,this.gamePause,this);var e=this.node.getComponent(h);e?this._audioSource=e:console.error("AudioSource component not found on the node.")},n.start=function(){var e=this;this.schedule((function(){e.isGamePause||(e.generateStars(),console.log("Stars"))}),.5)},n.endGame=function(){var e=w.instance;if(e){var t=e.getBestResult();t.push(this.score),t=t.sort((function(e,t){return e-t})).reverse().slice(0,5),e.setBestResult(t)}this.isGameOver=!0,this.failureWindow.active=!0,this.scoreLabelGameOver.string="Score: "+this.score,this.unscheduleAllCallbacks(),p.getScene().getChildByName("Canvas").children.forEach((function(e){"star100"===e.name&&e.destroy()}))},n.countdown=function(){this.isGamePause||(this.time>0?(this.time-=1,this.timerLabel.string="Time: "+this.time):this.endGame())},n.generateStars=function(){var e=this,t=p.getScene().getChildByName("Canvas"),i=f(this.stars),r=Math.floor(1201*Math.random())-600,a=Math.floor(-11*Math.random())+22,s=.5*Math.random()+.1,n=new g(0,-a);i.setParent(t),i.setPosition(r,400),i.setSiblingIndex(3),i.setRotationFromEuler(0,0,0),i.getComponent(v).linearVelocity=new g(0,-a);var o=i.getComponent(b);if(o){var l=o.getState("rotateStars");l&&(l.speed=s)}this.starsArray.push({node:i,speed:n}),i.on(c.EventType.TOUCH_START,(function(){e.isGamePause||(i.destroy(),e._audioSource.play(),e.score+=10,e.scoreLabel.string="Score: "+e.score)}))},n.reset=function(){this.score=0,this.isGameOver=!1,this.time=10,this.failureWindow.active=!1,this.scoreLabel.string="Score: "+this.score,this.timerLabel.string="Time: "+this.time,this.scoreLabelGameOver.string="Score: "+this.score},n.restartGame=function(){var e=this;console.log("Restart"),this.reset(),this.unscheduleAllCallbacks(),this.schedule(this.countdown,1),this.schedule((function(){return e.generateStars()}),.5)},n.stopAllStars=function(){for(var e,t=r(this.starsArray);!(e=t()).done;){var i=e.value;if(i.node.isValid){var a=i.node.getComponent(b);a&&a.pause(),i.node.getComponent(v).linearVelocity=new g(0,0);var s=i.node.getComponent(v);s&&(s.enabled=!1)}}},n.resumeAllStars=function(){for(var e,t=r(this.starsArray);!(e=t()).done;){var i=e.value;if(i.node.isValid){var a=i.node.getComponent(b);a&&a.resume(),i.node.getComponent(v).linearVelocity=i.speed;var s=i.node.getComponent(v);s&&(s.enabled=!0)}}},n.gamePause=function(e){if(this.isGamePause)switch(e.keyCode){case y.ESCAPE:this.resumeAllStars(),this.pauseWindow.active=!1,this.isGamePause=!1,console.log("Pressed Escape not PAuse")}else switch(e.keyCode){case y.ESCAPE:this.stopAllStars(),this.pauseWindow.active=!0,this.isGamePause=!0,console.log("Pressed Escape Pause")}},n.toMenu=function(){this.reset(),p.loadScene("menu")},n.update=function(e){if(!this.isGamePause)for(var t=this.starsArray.length-1;t>=0;t--){var i=this.starsArray[t].node;if(i.isValid)i.getPosition().y<-400&&(i.destroy(),this.starsArray.splice(t,1))}},t}(S)).prototype,"stars",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(z.prototype,"failureWindow",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(z.prototype,"pauseWindow",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(z.prototype,"scoreLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(z.prototype,"scoreLabelGameOver",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(z.prototype,"timerLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(z.prototype,"_audioSource",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=z))||_));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameManagerSingleton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,s,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,s=t.director,r=t.Component}],execute:function(){var a,i;n._RF.push({},"f2ba7xZtMhA57j0dIQDZ8lt","GameManagerSingleton",void 0);var c=o.ccclass;o.property,t("GameManagerSingleton",c("GameManagerSingleton")(((i=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this).bestResult=[0,0,0,0,0],e}e(n,t);var o=n.prototype;return o.onLoad=function(){n.instance?this.node.destroy():(n.instance=this,s.addPersistRootNode(this.node))},o.setBestResult=function(t){this.bestResult=t},o.getBestResult=function(){return this.bestResult},o.start=function(){},o.update=function(t){},n}(r)).instance=null,a=i))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./GameManager.ts","./GameManagerSingleton.ts","./MenuScripts.ts","./showBestResult.ts"],(function(){return{setters:[null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MenuScripts.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,i,o,a,l,u,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Button,u=e.Label,c=e.director,s=e.Component}],execute:function(){var p,b,f,y,d,m,h,v,g;o._RF.push({},"1dc71henmdKFbYIMJsTZgVw","MenuScripts",void 0);var w=a.ccclass,L=a.property;e("MenuScripts",(p=w("MenuScripts"),b=L({type:l}),f=L({type:l}),y=L(u),p((h=t((m=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"bestResult",h,i(t)),r(t,"newGame",v,i(t)),r(t,"resultLabel",g,i(t)),t}n(t,e);var o=t.prototype;return o.onLoad=function(){this.newGame.node.on(l.EventType.CLICK,(function(){c.loadScene("mainGame")})),this.bestResult.node.on(l.EventType.CLICK,(function(){c.loadScene("bestResult")}))},o.start=function(){},o.update=function(e){},t}(s)).prototype,"bestResult",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(m.prototype,"newGame",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(m.prototype,"resultLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/showBestResult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManagerSingleton.ts"],(function(e){var t,n,o,a,r,i,l,s,c,u,g,f,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,l=e.Prefab,s=e.Node,c=e.instantiate,u=e.Label,g=e.director,f=e.Component},function(e){p=e.GameManagerSingleton}],execute:function(){var h,b,d,m,v,w,y;r._RF.push({},"99351dzDtBJ/ZwiMx2Rvf7D","showBestResult",void 0);var B=i.ccclass,R=i.property;e("showBestResult",(h=B("showBestResult"),b=R(l),d=R(s),h((w=t((v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,o(t,"rowTable",w,a(t)),o(t,"table",y,a(t)),t}n(t,e);var r=t.prototype;return r.onLoad=function(){var e=this;setTimeout((function(){e.showResultBest()}),1e3)},r.showResultBest=function(){var e=this,t=p.instance;(console.log("gameManager найден"),t)?(console.log("Всё нашлось"),t.getBestResult().forEach((function(t,n){var o=c(e.rowTable);o.active=!0;var a=o.getChildByName("ratingPrefab").getComponent(u),r=o.getChildByName("scorePrefab").getComponent(u);a.string=(n+1).toString(),r.string=t.toString(),e.table.addChild(o)}))):console.log("Компонент gameManagerSingle не найден на объекте GameManager.")},r.toMenu=function(){g.loadScene("menu")},r.start=function(){},r.update=function(e){},t}(f)).prototype,"rowTable",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(v.prototype,"table",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v))||m));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});